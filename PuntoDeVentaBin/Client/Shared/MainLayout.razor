@inherits LayoutComponentBase
@inject AuthenticationStateProvider auth

<div class="page">
    <AuthorizeView Roles="autorizacionNegocio">
        <Authorized>
            <div class="sidebar">
                <NavMenu />
            </div>
        </Authorized>
    </AuthorizeView>

    <main>
        <AuthorizeView Roles="autorizacionNegocio">
            <Authorized>
                <div class="top-row px-4">
                    <a href="https://docs.microsoft.com/aspnet/" target="_blank">About</a>
                </div>
            </Authorized>
        </AuthorizeView>

        <article class="content">@* px-4 *@
            @Body
        </article>
    </main>
</div>



@code {
    //private string nombreEmpresa = "";

    //private long empresaId = new long;

    //protected override async Task OnInitializedAsync()
    //{
    //    nombreEmpresa = await auth.GetAuthenticationStateAsync().User.Claims.First(c => c.Type == "EmpresaId").Value;

    //    empresaId = long.Parse((await auth.GetAuthenticationStateAsync()).User.Claims.First(c => c.Type == "EmpresaId").Value);
    //}
}